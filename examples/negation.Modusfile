is_windows(variant) :- variant = f"windows/${suffix}".

app(X) :-
    (
        is_windows(X),
        from("jturolla/failing-container")
    ;
        !is_windows(X),
        from(X),
        run("echo hello-world")
    ).

my_app(X) :- base_image(X), from(X), run("echo hello-world").

base_image("windows/windowsservercore-ltsc2022").
base_image("alpine:3.15").
